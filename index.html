<!DOCTYPE html><html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SpotFun</title><style>
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#0f0f0f;
  color:#fff;
  overflow:hidden;
}

/* BLUR BACKGROUND */
.bg{
  position:fixed;
  inset:0;
  background-size:cover;
  background-position:center;
  filter:blur(40px) brightness(0.6);
  transform:scale(1.2);
  z-index:-1;
}

.player{
  width:360px;
  background:rgba(18,18,18,.9);
  border-radius:22px;
  padding:16px;
  backdrop-filter:blur(10px);
}

.cover-wrap{
  width:100%;
  aspect-ratio:1/1;
  border-radius:18px;
  overflow:hidden;
  background:#222;
}
.cover-wrap img{
  width:100%;
  height:100%;
  object-fit:contain; /* ANTI CROP */
}

.info{margin-top:12px}
.info h2{margin:0;font-size:20px}
.info p{margin:4px 0 0;color:#aaa}

.progress-wrap{margin:14px 0}
input[type=range]{width:100%}
.time{display:flex;justify-content:space-between;font-size:12px;color:#aaa}

.controls{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:12px 0;
}
.controls button{
  background:none;
  border:none;
  color:#fff;
  font-size:20px;
}
.controls .play{
  background:#1db954;
  width:60px;
  height:60px;
  border-radius:50%;
  font-size:24px;
}
.controls .active{color:#1db954}

.playlist{margin-top:10px;max-height:160px;overflow:auto}
.song{
  display:flex;
  align-items:center;
  padding:8px;
  border-radius:10px;
  cursor:pointer;
}
.song.active{background:rgba(29,185,84,.25)}
.song img{
  width:42px;height:42px;
  object-fit:cover;
  border-radius:6px;
  margin-right:10px
}
.song .t{font-size:14px}
.song .a{font-size:12px;color:#aaa}
</style></head>
<body><div class="bg" id="bg"></div><div class="player">
  <div class="cover-wrap">
    <img id="cover" src="aboutyou.jpg">
  </div>  <div class="info">
    <h2 id="title">About You</h2>
    <p id="artist">The 1975</p>
  </div>  <div class="progress-wrap">
    <input type="range" id="progress" value="0">
    <div class="time">
      <span id="current">0:00</span>
      <span id="duration">0:00</span>
    </div>
  </div>  <div class="controls">
    <button id="shuffleBtn">üîÄ</button>
    <button onclick="prev()">‚èÆ</button>
    <button class="play" id="playBtn">‚ñ∂</button>
    <button onclick="next()">‚è≠</button>
    <button id="repeatBtn">üîÅ</button>
  </div>  <div class="playlist" id="playlist"></div>
</div><audio id="audio"></audio>

<script>
const songs=[
  {title:'About You',artist:'The 1975',src:'aboutyou.mp3',cover:'aboutyou.jpg'},
  {title:'Happiness',artist:'Rex Orange County',src:'happiness.mp3',cover:'cover2.jpg'}
];

let index=0;
let shuffle=false;
let repeat=false;

const audio=document.getElementById('audio');
const cover=document.getElementById('cover');
const bg=document.getElementById('bg');
const title=document.getElementById('title');
const artist=document.getElementById('artist');
const progress=document.getElementById('progress');
const playBtn=document.getElementById('playBtn');
const shuffleBtn=document.getElementById('shuffleBtn');
const repeatBtn=document.getElementById('repeatBtn');
const playlist=document.getElementById('playlist');

function loadSong(i){
  index=i;
  const s=songs[i];
  audio.src=s.src;
  cover.src=s.cover;
  bg.style.backgroundImage=`url('${s.cover}')`;
  title.textContent=s.title;
  artist.textContent=s.artist;
  document.querySelectorAll('.song').forEach((el,idx)=>{
    el.classList.toggle('active',idx===i);
  });
}

function togglePlay(){
  if(audio.paused){audio.play();playBtn.textContent='‚è∏';}
  else{audio.pause();playBtn.textContent='‚ñ∂';}
}

function next(){
  if(shuffle){index=Math.floor(Math.random()*songs.length);}
  else{index=(index+1)%songs.length;}
  loadSong(index);audio.play();playBtn.textContent='‚è∏';
}

function prev(){
  index=(index-1+songs.length)%songs.length;
  loadSong(index);audio.play();playBtn.textContent='‚è∏';
}

shuffleBtn.onclick=()=>{
  shuffle=!shuffle;
  shuffleBtn.classList.toggle('active',shuffle);
};

repeatBtn.onclick=()=>{
  repeat=!repeat;
  repeatBtn.classList.toggle('active',repeat);
};

playBtn.onclick=togglePlay;

audio.addEventListener('timeupdate',()=>{
  progress.value=(audio.currentTime/audio.duration)*100||0;
  current.textContent=format(audio.currentTime);
  duration.textContent=format(audio.duration);
});

progress.oninput=()=>{
  audio.currentTime=(progress.value/100)*audio.duration;
};

audio.addEventListener('ended',()=>{
  if(repeat){audio.currentTime=0;audio.play();}
  else{next();}
});

function format(t){if(!t)return'0:00';const m=Math.floor(t/60);const s=Math.floor(t%60).toString().padStart(2,'0');return`${m}:${s}`}

songs.forEach((s,i)=>{
  const div=document.createElement('div');
  div.className='song';
  div.innerHTML=`<img src="${s.cover}"><div><div class="t">${s.title}</div><div class="a">${s.artist}</div></div>`;
  div.onclick=()=>{loadSong(i);audio.play();playBtn.textContent='‚è∏';};
  playlist.appendChild(div);
});

loadSong(0);
</script></body>
</html>
